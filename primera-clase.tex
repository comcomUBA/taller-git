\begin{frame}
  \titlepage
  \begin{figure}[ht]
      \begin{center}
          \includegraphics[height=1in]{images/logo-taller.png}
      \end{center}
  \end{figure}
\end{frame}

\begin{frame}{MotivaciÃ³n 1/2}

    \begin{figure}[ht]
        \begin{center}
            \includegraphics[height=1.5in]{images/caos.png}
        \end{center}
    \end{figure}

    \pause
    \begin{figure}[ht]
        \begin{center}
            \includegraphics[height=1.5in]{images/horror.png}
        \end{center}
    \end{figure}

\end{frame}

\begin{frame}{MotivaciÃ³n 2/2}

    \begin{block}{Trabajando de a grupo}
        \begin{itemize}
            \item Enviar cambios por mail, o
            \pause
            \item Sincronizar cambios por Dropbox, o
            \pause
            \item Sincronizar cambios por Google Docs.
        \end{itemize}
    \end{block}

    \pause
    \begin{figure}[h]
        \begin{center}
            \includegraphics[height=1.5in]{images/horror.png}
        \end{center}
    \end{figure}

\end{frame}

\begin{frame}{Â¿QuÃ© es un Sistema de Control de Versiones?}

	\begin{block}{}
		Los Sistemas de Control de Versiones son una categorÃ­a de programas que permiten a un equipo manejar los cambios en el cÃ³digo fuente de un proyecto a lo largo del tiempo.

		Dichos programas llevan un seguimiento de las modificaciones que hacemos al cÃ³digo, y en caso de que nos equivoquemos en algo es posible volver a tras y comparar el cÃ³digo actual con otras versiones anteriores para ayudar a arreglar el error.

		TambiÃ©n, permiten que varias personas distintas del equipo modifiquen el cÃ³digo a la vez y compartan los cambios, tratando que prevenir posibles conflictos, y en caso de que los hubiera ayudando a identificarlos y resolverlos.

	\end{block}

    \pause
    \begin{resumen}{Es decir..}
        \begin{itemize}
            \item Permiten arreglar \textit{accidentes} y volver a versiones anteriores del cÃ³digo.
            \item Permiten compartir cÃ³digo con otras personas.
        \end{itemize}
	\end{resumen}

\end{frame}

\begin{frame}{Â¿QuÃ© es Git?}

	\begin{block}{}
		Git es un Sistema de Control de Versiones \textbf{distribuido y de cÃ³digo abierto}.
        AdemÃ¡s fue diseÃ±ado con enfasis en la \textbf{performance} (para manejar proyectos muy grandes), \textbf{seguridad} y \textbf{flexibilidad}.
        Provee un amplio conjunto de comandos que permiten realizar operaciones de alto y bajo nivel.
	\end{block}

    \begin{figure}[ht]
        \begin{center}
            \includegraphics[height=1.5in]{images/logo-git.png}
        \end{center}
    \end{figure}
\end{frame}

\begin{frame}[fragile]{Configuraciones iniciales}

	\begin{block}{Clave ssh}
		Para poder trabajar comodamente con repositorios Git que estÃ©n en internet (GitHub, Bitbucket, GitLab, etc) podemos configurar una clave ssh que nos identifique con el servidor que estemos usando.

        Por ejemplo, en GitLab:

        \url{http://doc.gitlab.com/ce/gitlab-basics/create-your-ssh-keys.html}
	\end{block}

    \begin{block}{Tu identidad}
        Es importante establecer nuestro nombre y email ya que estos van a ir asociados con los cambios que hagamos:

        \vspace{0.5em}

        \texttt{git config --global user.name "John Doe"}

        \texttt{git config --global user.email johndoe@example.com}
    \end{block}


\end{frame}

\begin{frame}[t]{Obteniendo un repositorio Git}

    \begin{comando}
        git clone
    \end{comando}

    \pause
	\begin{block}{}
        Para obtener una copia local de un repositorio existente en algÃºn servidor,
        utilizamos el comando \texttt{git clone [URL]} (sin los corchetes)
    \end{block}

    \pause
    \vspace{1em}
    \begin{ejercicio}{Ejercicio}
        \textit{Clonar} el repositorio que tiene URL: \textbf{git@gitlab.com:talleres-comcom/taller-git.git}

        \vspace{0.5em}
        Es un repositorio que tiene los fuentes\ \LaTeX\ de estas diapositivas !
    \end{ejercicio}
\end{frame}

\begin{frame}[t]{Preparando cambios}
    \begin{comando}
        git add
    \end{comando}

    \pause
    \begin{block}{}
        Una vez que tenemos cambios hechos, tenemos que marcalos como \textit{preparados} (o listos) antes de confirmarlos.
        \begin{enumerate}
            \item Creamos/Modificamos el archivo en cuestiÃ³n.
            \item Ejecutamos \texttt{git add [nombre del archivo]}
        \end{enumerate}
    \end{block}

    \pause
    \vspace{1em}
    \begin{ejercicio}{Ejercicio}
        Adentro del repositorio que \textit{clonaron} reciÃ©n, crear un archivo y
        marcarlo como \textit{preparado} usando el comando \texttt{git add}.
    \end{ejercicio}
\end{frame}

\begin{frame}[t]{Confirmando cambios}
    \begin{comando}
        git commit
    \end{comando}

    \pause
    \begin{block}{}
        Una vez que tenemos \textit{preparados} ciertos cambios, podemos confirmarlos
        ejecutando \texttt{git commit -m [mensaje]}.

        \vspace{0.5em}

        DÃ³nde [mensaje] Ã­ndica al que lea eso cuales fueron los cambios que acabamos de confirmar.
    \end{block}

    \pause
    \vspace{1em}
    \begin{ejercicio}{Ejercicio}
        Confirmar los cambios que \textit{prepararon} en la diapo anterior.
    \end{ejercicio}
\end{frame}

\begin{frame}[t]{No seas vago con los mensajes!}

    \begin{figure}[ht]
        \begin{center}
            \includegraphics[height=2in]{images/xkcd-git-commit.png}
        \end{center}
        \caption{Fuente: \url{https://xkcd.com/1296/}}
    \end{figure}

\end{frame}

\begin{frame}[fragile, t]{Â¿EstÃ¡ preparado, confirmado o ninguna de las dos?}
    \begin{comando}
        git status
    \end{comando}

    \begin{block}{No es lo mismo!}
        Las modificaciones que hacemos pueden estar en \textbf{3 estados} distintos:
        \begin{itemize}
            \pause
            \only<-2>{\item \textbf{Modificado (modified)}: las modificaciones todavÃ­a no estÃ¡n \textit{preparadas o listas}.}
            \only<3-3>{\item \textbf{Preparado (staged)}: las modificaciones estÃ¡n marcadas como \textit{preparadas o listas} e
                irÃ¡n en la proxima \textit{confirmaciÃ³n de cambios}.}
            \only<4-4>{\item \textbf{Confirmado (committed)}: las modifiaciones estÃ¡n guardadas con un \textit{mensaje} que explica los cambios realizados.}
        \end{itemize}
    \end{block}

    \only<2> {
        \begin{block}{Output de ejemplo}
            \gitstatusmodified
        \end{block}
    }
    \only<3> {
        \begin{block}{Output de ejemplo}
            \gitstatusready
        \end{block}
    }
    \only<4> {
        \begin{block}{Output de ejemplo}
            \gitstatusclean
        \end{block}
    }
\end{frame}

\begin{frame}{Colaborando con otras personas}

    Los repositorios remotos son \textit{copias} de tu proyecto a las cuales accedemos a travÃ©s
    de Internet. Puede haber varios, cada uno de los cuales
    puede ser de sÃ³lo lectura, o de lectura/escritura, segÃºn los permisos que tengamos.

    \begin{figure}[ht]
        \begin{center}
            \includegraphics[height=1.5in]{images/repo-remoto.png}
        \end{center}
    \end{figure}

    Colaborar con otros implica gestionar estos repositorios remotos, y mandar (\textbf{push}) y recibir (\textbf{pull})
    datos de ellos cuando necesites compartir cosas.

\end{frame}

\begin{frame}[t]{Enviando cambios}
    \begin{comando}
        git push
    \end{comando}

    \pause
    \begin{block}{}
        Para enviar los cambios \textbf{desde nuestro repositorio local a algÃºn
        repositorio remoto}, ejecutamos: \texttt{git push [remoto] [branch]}

        \vspace{0.5em}

        Por ahora, hasta la siguiente clase, vamos a usarlo como:\\ \texttt{git push origin master}
    \end{block}
\end{frame}

\begin{frame}[t]{Trayendo cambios}
    \begin{comando}
        git pull
    \end{comando}

    \pause
    \begin{block}{}
        Para traer cambios \textbf{desde un repositorio remoto a nuestro repositorio local},
        ejecutamos: \texttt{git pull [remoto] [branch]}

        \vspace{0.5em}

        Igual que antes, hasta la siguiente clase, vamos a usarlo como:\\ \texttt{git pull origin master}
    \end{block}
\end{frame}

\begin{frame}[t]{Y quÃ© pasa si.. BOOM}

    \begin{block}{A veces hay conflictos}
        \begin{itemize}
            \item Supongamos que dos personas (ðŸ‘¨ y ðŸ‘©) estÃ¡n trabajando en un mismo proyecto.
                Es decir, ambos tienen una \textit{copia} en su mÃ¡quina.
            \pause
            \item Ahora imaginemos, por ejemplo, que ðŸ‘¨ modifica el archivo \texttt{README} en la linea 23
                y confirma los cambios.
            \pause
            \item Sin saberlo, ðŸ‘© tambiÃ©n modifica el archivo \texttt{README} en la linea 23, pero pone algo distinto y confirma dichos cambios.
            \pause
            \item Â¿QuÃ© va a pasar cuando quieran compartir lo que hicieron?\\ \only<6->{\textbf{Va a haber un conflicto,
                dos personas dicen algo distinto para una misma lniea.}}
            \pause
            \item Â¿Que va a hacer Git?\\ \only<7->{\textbf{Se va a quejar. A alguno de los dos le va a tocar incorpar a mano los cambios del otro.}}
        \end{itemize}
    \end{block}

\end{frame}

\begin{frame}[t]{Creando un repositorio vacio}
    \begin{comando}
        git init
    \end{comando}

    \pause
    \begin{block}{}
        Crea un repositorio local vacio. Un lienzo en blanco por asÃ­ decirlo.
        \begin{enumerate}
            \item Nos paramos en el directorio que queremos convertir en un repositorio.
            \item Ejecutamos \texttt{git init}
        \end{enumerate}
        Esto crea un subdirectorio \textit{.git} que tiene todos los archivos necesarios de Git.
    \end{block}
\end{frame}

\begin{frame}[t]{AÃ±adiendo un repositorio remoto}
    \begin{comando}
        git remote
    \end{comando}

    \vspace{0.5em}
    \pause
    \begin{block}{Ver los repositorios remotos asociados}
        Ejecutamos \texttt{git remote -v}
    \end{block}

    \pause
    \begin{block}{Agregar un repositorio remoto}
        Ejecutamos \texttt{git remote add [nombre que querramos] [URL]}
    \end{block}
\end{frame}

\begin{frame}[t]{A practicar!}

    \begin{ejercicio}{Ejercicio de a 2 mÃ¡quinas (preferiblemente 2 personas): ðŸ‘¾ y ðŸ‘½}
        \begin{enumerate}
            \pause
            \item ðŸ‘¾ y ðŸ‘½: crear un repositorio local vacio.
            \pause
            \item ðŸ‘¾: crear un repositorio nuevo en \href{https://www.gitlab.com}{GitLab}
            \pause
            \item ðŸ‘¾ y ðŸ‘½: asociar el repositorio remoto reciÃ©n creado.
            \pause
            \item ðŸ‘¾ y ðŸ‘½: crear un archivo \textit{README} con contenidos distintos en la primera linea.
            \pause
            \item ðŸ‘¾: pushear los cambios al repositorio remoto.
            \pause
            \item ðŸ‘½: intentar pushear los cambios al repositorio remoto. Â¿QuÃ© pasÃ³?
            \pause
            \item ðŸ‘½: bajarse los cambios del repositorio remoto. Â¿Anduvo?
            \pause
            \item ðŸ‘½: resolver los conflictos que haya.
            \pause
            \item ðŸ‘½: aÃ±adir y confirmar el archivo que tenÃ­a conflicto.
            \pause
            \item ðŸ‘½: pushear estos nuevos cambios.
            \pause
            \item ðŸ‘¾: bajarse los nuevos cambios.
        \end{enumerate}
    \end{ejercicio}

\end{frame}
